version: '3.8'

services:
  # GitHubから実際にinstall.shを実行
  github-install:
    build:
      context: .
      dockerfile: Dockerfile.ubuntu
    container_name: dotfiles-github-test
    tty: true
    stdin_open: true

  # ローカルスクリプトをテスト
  local-test:
    build:
      context: .
      dockerfile: Dockerfile.local
    container_name: dotfiles-local-test
    volumes:
      - .:/home/testuser/dotfiles
    tty: true
    stdin_open: true
