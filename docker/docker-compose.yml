version: '3.8'

services:
  # GitHubから実際にinstall.shを実行
  github-install:
    build:
      context: ..
      dockerfile: docker/Dockerfile.ubuntu
    container_name: dotfiles-github-test
    tty: true
    stdin_open: true

  # ローカルスクリプトをテスト
  dev-test:
    build:
      context: ..
      dockerfile: docker/Dockerfile.dev
    container_name: dotfiles-dev-test
    volumes:
      - ..:/home/testuser/dotfiles
    tty: true
    stdin_open: true
